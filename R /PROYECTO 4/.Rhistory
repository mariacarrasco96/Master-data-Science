ciudad_amsterdam<-filter(act_new, ciudad=="Europe/Amsterdam")
ciudad_madrid<-filter(act_new, ciudad=="Europe/Madrid")
library(readr)#en la libreria de readr hay q escribirlo con barra baja
sleep<-read_csv("~/Desktop/R/practica 4/sleep.csv")
activities<-read_csv("~/Desktop/R/practica 4/activities.csv")
#se visualizan ambos dataframes
View(sleep)
View(activities)
#establecemos un contador que nos cuente el número total de NAs contendios en activities
t<-0
for(i in activities$GPS){
if(is.na(i==NA)){
t<-t+1;
}
}
print(t)
library(dplyr)
act_new<-select(activities, 1,2,5:6)
names(act_new)
act_new<-rename(act_new, tipo="Activity type", ciudad="Timezone")
act_new_tipo<-as.factor(act_new$tipo)#transformación
summary(act_new_tipo)#resumen de cuantos deportes hay de cada tipo
plot(act_new_tipo, main="activities")#gráfica con frecuencias
act_new_ciudad<- as.factor(act_new$ciudad)
summary(act_new_ciudad)
plot(act_new_ciudad, main="ciudad")
ciudad_amsterdam<-filter(act_new, ciudad=="Europe/Amsterdam")
ciudad_madrid<-filter(act_new, ciudad=="Europe/Madrid")
resumen_amsterdam<-summary(ciudad_amsterdam$tipo)
resumen_madrid<-summary(ciudad_madrid$tipo)
setdiff(ciudad_amsterdam$tipo, ciudad_madrid$tipo)#deportes que se practican en Amsterdam y no en Madrid
setdiff(ciudad_madrid$tipo, ciudad_amsterdam$tipo)#deportes que se practican en Mdrid y no en Amsterdam
#Graficos
plot(resumen_amsterdam, main = "Amsterdam")
plot(resumen_madrid, main = "Madrid")
ciudad_amsterdam<-filter(act_new, ciudad=="Europe/Amsterdam")
ciudad_madrid<-filter(act_new, ciudad=="Europe/Madrid")
resumen_amsterdam<-summary(ciudad_amsterdam$tipo)
resumen_madrid<-summary(ciudad_madrid$tipo)
setdiff(ciudad_amsterdam$tipo, ciudad_madrid$tipo)#deportes que se practican en Amsterdam y no en Madrid
setdiff(ciudad_madrid$tipo, ciudad_amsterdam$tipo)#deportes que se practican en Mdrid y no en Amsterdam
#Graficos
plot(resumen_amsterdam, main = "Amsterdam")
plot(resumen_madrid, main = "Madrid")
fechas_amsterdam<-filter(ciudad_amsterdam, tipo=="Cycling" | tipo=="Pilates")
ciudad_amsterdam<-mutate(ciudad_amsterdam, dif=a-de)#con mutate añadimos informacion a nuestro dataframe incluyendo los minutos
ciudad_madrid<-mutate(ciudad_madrid, dif=a-de)
minutos_amsterdam<-ciudad_amsterdam%>%
group_by(tipo) %>%
summarize(tiempo=as.integer(sum(dif)))
#Grafico de barras.
library(ggplot2)
ggplot(minutos_amsterdam, aes(x=tipo, y=tiempo))+ #mediante este grafico vemos la relacion entre el tiempo y el deporte, y se observa que la actividad mas representativa es walking
geom_bar(stat="identity")+
xlab("Deporte")+
ylab("Tiempo")
write.csv(ciudad_amsterdam, file="ciudad_amsterdam.csv")#guardamos en csv
write.csv(ciudad_madrid, file="ciudad_madrid.csv"
sleep<-read_csv("~/Desktop/R/practica 4/sleep.csv")
sleep_new<-select(sleep, 1,2,3,4,6,7,8,9)#eliminamos las columns que contienen 0
names(sleep_new)
sleep_new<-rename(sleep_new, "ligero"="ligero (s)", "profundo"="profundo (s)", "despierto"="despierto (s)","DTS"="Duration to sleep (s)","DTWU"="Duration to wake up (s)")
sleep_new_2 <-na.omit(sleep_new)#eliminamos los NA
sleep_new_2<-mutate(sleep_new_2, total= ligero+profundo)#añadimos informacion a nuestro dataframe añadiendo la columan de total
# 16. Visualizacion de la relacion ligero-profundo-total#tres graficos: ligero-profundo,ligero-total,profundo-total
ggplot(sleep_new_2, aes(x=profundo, y=ligero))+
geom_bar(stat="identity")+
xlab("Profundo")+
ylab("Ligero")
ggplot(sleep_new_2, aes(x=total, y=ligero))+
geom_bar(stat="identity")+
xlab("Total")+
ylab("Ligero")
ggplot(sleep_new_2, aes(x=total, y=profundo))+
geom_bar(stat="identity")+
xlab("Total")+
ylab("Profundo")
library(TeachingDemos)
library(TeachingDemos)
t.test(x = ((sleep_new_2$profundo) - (sleep_new_2$ligero)), mu=0) #acepta la hipotesis alternativa ya que el p-valor es menor que el nivel de significacion por tanto si existen diferencias
as.Date(act_new$de)
as.Date(sleep_new_2$de)
for (i in act_new$de) {
if (i %in% sleep_new_2$de) {
print(ciudad)
}
}
ciudad
write.csv(ciudad_amsterdam, file="ciudad_amsterdam.csv")#guardamos en csv
write.csv(ciudad_madrid, file="ciudad_madrid.csv")
write.csv(ciudad_amsterdam, file="ciudad_amsterdam.csv")#guardamos en csv
write.csv(ciudad_madrid, file="ciudad_madrid.csv")
# 16. Visualizacion de la relacion ligero-profundo-total#tres graficos: ligero-profundo,ligero-total,profundo-total
ggplot(sleep_new_2, aes(x=profundo, y=ligero))+
geom_bar(stat="identity")+
xlab("Profundo")+
ylab("Ligero")
ggplot(sleep_new_2, aes(x=total, y=ligero))+
geom_bar(stat="identity")+
xlab("Total")+
ylab("Ligero")
ggplot(sleep_new_2, aes(x=total, y=profundo))+
geom_bar(stat="identity")+
xlab("Total")+
ylab("Profundo")
ggplot(sleep_new_2, aes(x=total, y=ligero))+
geom_bar(stat="identity")+
xlab("Total")+
ylab("Ligero")
# 16. Visualizacion de la relacion ligero-profundo-total#tres graficos: ligero-profundo,ligero-total,profundo-total
ggplot(sleep_new_2, aes(x=profundo, y=ligero))+
geom_bar(stat="identity")+
xlab("Profundo")+
ylab("Ligero")
# 16. Visualizacion de la relacion ligero-profundo-total#tres graficos: ligero-profundo,ligero-total,profundo-total
ggplot(sleep_new_2, aes(x=profundo, y=ligero))+
geom_bar(stat="identity")+
xlab("Profundo")+
ylab("Ligero")
ggplot(sleep_new_2, aes(x=total, y=ligero))+
geom_bar(stat="identity")+
xlab("Total")+
ylab("Ligero")
ggplot(sleep_new_2, aes(x=total, y=profundo))+
geom_bar(stat="identity")+
xlab("Total")+
ylab("Profundo")
ciudad_amsterdam<-filter(act_new, ciudad=="Europe/Amsterdam")
ciudad_madrid<-filter(act_new, ciudad=="Europe/Madrid")
resumen_amsterdam<-summary(ciudad_amsterdam$tipo)
resumen_madrid<-summary(ciudad_madrid$tipo)
setdiff(ciudad_amsterdam$tipo, ciudad_madrid$tipo)#deportes que se practican en Amsterdam y no en Madrid
setdiff(ciudad_madrid$tipo, ciudad_amsterdam$tipo)#deportes que se practican en Mdrid y no en Amsterdam
#Graficos
plot(resumen_amsterdam, main = "Amsterdam")
plot(resumen_madrid, main = "Madrid")
sleep_new<-select(sleep, 1,2,3,4,6,7,8,9)#eliminamos las columns que contienen 0
ggplot(sleep_new_2, aes(x=total, y=ligero))+
geom_bar(stat="identity")+
xlab("Total")+
ylab("Ligero")
ggplot(sleep_new_2, aes(x=total, y=profundo))+
geom_bar(stat="identity")+
xlab("Total")+
ylab("Profundo")
# 16. Visualizacion de la relacion ligero-profundo-total#tres graficos: ligero-profundo,ligero-total,profundo-total
ggplot(sleep_new_2, aes(x=profundo, y=ligero))+
geom_bar(stat="identity")+
xlab("Profundo")+
ylab("Ligero")
ggplot(sleep_new_2, aes(x=total, y=ligero))+
geom_bar(stat="identity")+
xlab("Total")+
ylab("Ligero")
ggplot(sleep_new_2, aes(x=total, y=profundo))+
geom_bar(stat="identity")+
xlab("Total")+
ylab("Profundo")
ggplot(sleep_new_2, aes(x=total, y=ligero))+
geom_bar(stat="identity")+
xlab("Total")+
ylab("Ligero")
ggplot(sleep_new_2, aes(x=total, y=profundo))+
geom_bar(stat="identity")+
xlab("Total")+
ylab("Profundo")
# 16. Visualizacion de la relacion ligero-profundo-total#tres graficos: ligero-profundo,ligero-total,profundo-total
ggplot(sleep_new_2, aes(x=profundo, y=ligero))+
geom_bar(stat="identity")+
xlab("Profundo")+
ylab("Ligero")
ggplot(sleep_new_2, aes(x=total, y=ligero))+
geom_bar(stat="identity")+
xlab("Total")+
ylab("Ligero")
ggplot(sleep_new_2, aes(x=total, y=profundo))+
geom_bar(stat="identity")+
xlab("Total")+
ylab("Profundo")
ggplot(sleep_new_2, aes(x=total, y=ligero))+
geom_bar(stat="identity")+
xlab("Total")+
ylab("Ligero")
ggplot(sleep_new_2, aes(x=total, y=profundo))+
geom_bar(stat="identity")+
xlab("Total")+
ylab("Profundo")
